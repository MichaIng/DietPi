#!/bin/bash
# shellcheck disable=SC2034
# Available DietPi version
G_REMOTE_VERSION_CORE=9
G_REMOTE_VERSION_SUB=16
G_REMOTE_VERSION_RC=3
# Minimum DietPi version to allow update
G_MIN_VERSION_CORE=7
G_MIN_VERSION_SUB=0
# Alternative Git branch to automatically migrate to when DietPi version is too low
G_OLD_VERSION_BRANCH='8'
# Minimum Debian version to allow update
G_MIN_DEBIAN=6
# Alternative Git branch to automatically migrate to when Debian version is too low
G_OLD_DEBIAN_BRANCH='8'
# Live patches
G_LIVE_PATCH_DESC=(
	[0]='Fix Docker socket path for Portainer installation, only relevant if you plan to install/reinstall/update Portainer via dietpi-software'
	[1]='Fix CPU frequency limit selection in dietpi-config'
)
G_LIVE_PATCH_COND=(
	[0]='grep -q '\''/run/docker.sock:/run/docker.sock'\'' /boot/dietpi/dietpi-software'
	[1]='grep -q '\''\[0-9\]\*scaling_available_frequencies'\'' /boot/dietpi/dietpi-config'
)
G_LIVE_PATCH=(
	[0]='sed --follow-symlinks -i '\''s|/run/docker.sock:/run/docker.sock|/run/docker.sock:/var/run/docker.sock|'\'' /boot/dietpi/dietpi-software'
	[1]='sed --follow-symlinks -i '\''s|\[0-9\]\*scaling_available_frequencies|\[0-9\]\*/scaling_available_frequencies|'\'' /boot/dietpi/dietpi-config'
)
